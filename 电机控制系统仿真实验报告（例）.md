# 电机控制系统仿真实验报告

<center><div style='height:2mm;'></div><div style="font-family:华文楷体;font-size:14pt;">金嘉楠</div></center>
<center><span style="font-family:华文楷体;font-size:9pt">哈尔滨工程大学创梦之翼战队，电控组，17845272822@163.com<br /></span>

注：格式注意首行缩进两个字符

## STM32单片机配置

### CubeMX内核配置

注：应采用无序列表，要求上传 System Core 中 RCC 和 SYS 配置结果截图。

- RCC
    -
- SYS
    -
- …

### CubeMX外设配置

注：应采用无序列表，要求上传 CubeMX 的 Connectivity 中 Usart 的配置结果截图。若使用中断或DMA，则上传相应的中断或DMA相应配置内容的截图。

- 串口 
    -
- 中断设置
    -
- DMA设置
    -
### CubeMX时钟配置

　　要求上传时钟树 Clock Configuration 的配置结果截图。

## 嵌入式系统设计

注：可参考官方论坛各参赛队开源技术报告。

### 嵌入式软件框架

　　嵌入式软件框架图，可通过drawio绘制。

### 上位机通信程序设计

#### 串口发送

　　简述实现方法与代码分析，注意代码应使用代码块。

```C

```

#### 串口接收

　　简述实现方法与代码分析，注意代码应使用代码块。

```C

```



## 控制系统设计与实现

### 速度闭环

#### 系统框图

　　利用drawio绘制速度闭环控制系统方框图，可参考：[（3）系统方框图 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/399384279)，要求明确各 Block 的输入输出。

#### 系统关键代码

　　注意代码应使用代码块

```C
float PID_Calculate()
{
}
```

### 角度闭环

#### 系统框图

##### 单级反馈控制

　　利用drawio绘制角度闭环单级反馈控制系统方框图

##### 串级反馈控制

　　利用drawio绘制角度闭环串级反馈控制系统方框图

#### 系统关键代码

##### 单级反馈控制

　　注意代码应使用代码块

```C

```

##### 串级反馈控制

　　注意代码应使用代码块

```C

```

### 复合控制

#### 复合控制系统框图与设计思路

　　利用drawio绘制角度闭环串级反馈控制系统方框图，并写明设计思路。

#### 复合控制系统关键代码

　　注意代码应使用代码块

```C

```

## 实验结论与分析

注：所有图片均需标明横纵坐标单位。

### 速度闭环系统阶跃响应

![image-20220124093224373](http://hongxiwong-pic.oss-cn-beijing.aliyuncs.com/img/image-20220124093224373.png)

### 速度闭环系统频率响应

![image-20220124093513534](http://hongxiwong-pic.oss-cn-beijing.aliyuncs.com/img/image-20220124093513534.png)

$\omega_0 = 41 \ rad/s$

### 角度闭环系统阶跃响应

应至少包含期望角度与两种闭环控制系统实际角度，共三条曲线。并对比分析结果。

![image-20220124094412443](http://hongxiwong-pic.oss-cn-beijing.aliyuncs.com/img/image-20220124094412443.png)

### 角度闭环系统阶频率

图1应至少包含期望角度与单级控制系统实际角度，共两条曲线。

图2应至少包含期望角度与串级控制系统实际角度，共两条曲线。

并对比分析结果。

![image-20220124095026433](http://hongxiwong-pic.oss-cn-beijing.aliyuncs.com/img/image-20220124095026433.png)

$\omega_0 = 2.8\ rad/s$

### 角度闭环系统抗扰性能

　　两张图：

图1应至少包含扰动输入与两种闭环控制系统控制器输出，共三条曲线。并对比分析结果。

图2应至少包含两种闭环控制系统实际角度，共两条曲线。

### 复合控制系统阶跃响应

　　一张图：

应至少包含期望角度与复合控制系统实际角度，共两条曲线。并对比分析结果。

### 复合控制系统频率响应

![image-20220124110151555](http://hongxiwong-pic.oss-cn-beijing.aliyuncs.com/img/image-20220124110151555.png)

$\omega_0 = 6.5\ rad/s$

### 复合控制系统抗扰性能

　　两张图：

图1应至少包含扰动输入与三种控制系统控制器输出四条曲线。并对比分析结果。

图2应至少包含三种闭环控制系统实际角度三条曲线。
